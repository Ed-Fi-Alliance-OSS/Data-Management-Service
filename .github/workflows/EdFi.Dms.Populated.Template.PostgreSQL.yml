# SPDX-License-Identifier: Apache-2.0
# Licensed to the Ed-Fi Alliance under one or more agreements.
# The Ed-Fi Alliance licenses this file to you under the Apache License, Version 2.0.
# See the LICENSE and NOTICES files in the project root for more information.

name: Pkg EdFi.Dms.Populated.Template.PostgreSQL
on:
  release:
    types:
      - released
  push:
    tags:
      - "v*.*.*"
  workflow_dispatch:

env:
  STANDARD_VERSION: "5.2.0"
  PACKAGE_NAME: "EdFi.Dms.Populated.Template.PostgreSQL.5.2.0"
  MANIFEST_FILE: "_manifest/spdx_2.2/manifest.spdx.json"
  PROVENANCE_FILE: "populated.template.intoto.jsonl"

permissions: read-all

jobs:
  build-populated-template:
    name: Build Populated Template
    uses: ./.github/workflows/build-populated-template.yml
    with:
      standard_version: "5.2.0"
      package_name: "EdFi.Dms.Populated.Template.PostgreSQL.5.2.0"
      manifest_file: "_manifest/spdx_2.2/manifest.spdx.json"
      provenance_file: "populated.template.intoto.jsonl"
    secrets:
      AZURE_ARTIFACTS_PERSONAL_ACCESS_TOKEN: ${{ secrets.AZURE_ARTIFACTS_PERSONAL_ACCESS_TOKEN }}
