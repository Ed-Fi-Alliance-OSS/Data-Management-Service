Task: DMS-929 Model Semantics - key columns now in DbTableModel.Columns; root key kind ParentKeyPart; key column scalar types inferred by name (DocumentId Int64, ordinals Int32) to match design.
Files: src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/DeriveTableScopesAndKeysStep.cs; src/dms/backend/EdFi.DataManagementService.Backend.Tests.Unit/DeriveTableScopesAndKeysStepTests.cs; src/dms/backend/EdFi.DataManagementService.Backend.Tests.Unit/CanonicalizeOrderingStepTests.cs; src/dms/backend/EdFi.DataManagementService.Backend.Tests.Unit/RelationalModelBuilderPipelineTests.cs; src/dms/backend/EdFi.DataManagementService.Backend.Tests.Unit/RelationalModelManifestEmitterTests.cs; src/dms/backend/EdFi.DataManagementService.Backend.Tests.Unit/Fixtures/authoritative/ds-5.2/expected/dms-929-relational-model.manifest.json.
Notes: UPDATE_GOLDENS=1 used to refresh authoritative manifest; build warns missing DocumentValidation.feature.cs (pre-existing).
Task: DMS-929 Constraints - add referential actions to FK constraints/manifest; root+collection ON DELETE CASCADE; descriptor FKs NO ACTION; ref identity FK test uses ON UPDATE CASCADE.
Decisions: TableConstraint.ForeignKey now stores OnDelete/OnUpdate (default NoAction) to avoid re-deriving cascades; manifest always emits on_delete/on_update.
Files: src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/RelationalModelTypes.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/DeriveTableScopesAndKeysStep.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/DeriveColumnsAndDescriptorEdgesStep.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/RelationalModelManifestEmitter.cs; src/dms/backend/EdFi.DataManagementService.Backend.Tests.Unit/DeriveTableScopesAndKeysStepTests.cs; src/dms/backend/EdFi.DataManagementService.Backend.Tests.Unit/DeriveColumnsAndDescriptorEdgesStepTests.cs; src/dms/backend/EdFi.DataManagementService.Backend.Tests.Unit/ForeignKeyReferentialActionTests.cs; src/dms/backend/EdFi.DataManagementService.Backend.Tests.Unit/Fixtures/authoritative/ds-5.2/expected/dms-929-relational-model.manifest.json; tasks.json.
Notes: build warning for missing Features/SyntheticTests/DocumentValidation.feature.cs (pre-existing).
Task: DMS-929 Schema Validation - allow descriptor scalar arrays (descriptor path at array element); non-descriptor scalar arrays error with canonical array path.
Decisions: array items scalar allowed only when DescriptorPathsByJsonPath has $.collection[*]; use singularized collection name for descriptor column base; validation error references canonical array path for clarity.
Files: src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/ValidateJsonSchemaStep.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/DeriveColumnsAndDescriptorEdgesStep.cs; src/dms/backend/EdFi.DataManagementService.Backend.Tests.Unit/ValidateJsonSchemaStepTests.cs; src/dms/backend/EdFi.DataManagementService.Backend.Tests.Unit/DeriveColumnsAndDescriptorEdgesStepTests.cs; tasks.json.
Notes: dotnet test + build ok; build warning missing Features/SyntheticTests/DocumentValidation.feature.cs (pre-existing).
Task: DMS-929 Determinism - ordering centralized in CanonicalizeOrderingStep; manifest emitter uses stored order; regression test asserts manifest matches canonical ordering.
Decisions: canonicalize now orders tables by depth/scope/schema/name and extension sites incl. sorted project keys to keep ordering rules in one place; emitter no longer re-sorts.
Files: src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/CanonicalizeOrderingStep.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/RelationalModelManifestEmitter.cs; src/dms/backend/EdFi.DataManagementService.Backend.Tests.Unit/RelationalModelManifestOrderingTests.cs; tasks.json.
Notes: build warning for missing Features/SyntheticTests/DocumentValidation.feature.cs (pre-existing).
Task: DMS-929 Type Mapping - require decimalPropertyValidationInfos for type:number; missing/partial info now throws with canonical path; authoritative fixture updated to include decimal validations for number paths; golden manifest regenerated.
Decisions: ResolveDecimalType now fails fast if no matching decimal info or missing totalDigits/decimalPlaces; defaulted missing decimal infos in authoritative ApiSchema to resource-level common precision/scale (global default 9,2).
Files: src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/DeriveColumnsAndDescriptorEdgesStep.cs; src/dms/backend/EdFi.DataManagementService.Backend.Tests.Unit/DeriveColumnsAndDescriptorEdgesStepTests.cs; src/dms/backend/EdFi.DataManagementService.Backend.Tests.Unit/Fixtures/authoritative/ds-5.2/inputs/ds-5.2-api-schema-authoritative.json; src/dms/backend/EdFi.DataManagementService.Backend.Tests.Unit/Fixtures/authoritative/ds-5.2/expected/dms-929-relational-model.manifest.json; tasks.json.
Notes: UPDATE_GOLDENS=1 used to refresh authoritative manifest; build warning missing Features/SyntheticTests/DocumentValidation.feature.cs (pre-existing).
