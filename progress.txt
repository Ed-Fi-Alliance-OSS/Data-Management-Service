- Task: Deduplicate JSON-schema kind inference (reference/design/backend-redesign/epics/01-relational-model/00-base-schema-traversal.md) done.
- Decisions: centralized schema kind detection in JsonSchemaTraversalConventions with shared SchemaKind; validate type nodes and preserve root-object enforcement paths.
- Files: src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/JsonSchemaTraversalConventions.cs, src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/ValidateJsonSchemaStep.cs, src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/DiscoverExtensionSitesStep.cs, src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/DeriveTableScopesAndKeysStep.cs, src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/DeriveColumnsAndDescriptorEdgesStep.cs
- Notes: dotnet build warning about missing DocumentValidation.feature.cs (pre-existing).
- Task: Enforce string maxLength contract + descriptor reference detection (reference/design/backend-redesign/epics/01-relational-model/00-base-schema-traversal.md) done.
- Decisions: enforce maxLength for plain string scalars with hint; allow omissions via format date/time, flatteningMetadata duration/enum allow-list, or schema enum; derive descriptor paths across referenceJsonPaths via fixed-point propagation, including abstract resources and identityJsonPaths fallback (descriptor name from property suffix).
- Files: src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/DeriveColumnsAndDescriptorEdgesStep.cs, src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/ExtractInputsStep.cs, src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/RelationalModelBuilderPipeline.cs, src/dms/backend/EdFi.DataManagementService.Backend.Tests.Unit/DeriveColumnsAndDescriptorEdgesStepTests.cs, src/dms/backend/EdFi.DataManagementService.Backend.Tests.Unit/Fixtures/authoritative/ds-5.2/expected/dms-929-relational-model.manifest.json
- Notes: dotnet build warning about missing Features/SyntheticTests/DocumentValidation.feature.cs (pre-existing).
- Task: Deduplicate foreign key name generation (reference/design/backend-redesign/epics/01-relational-model/00-base-schema-traversal.md) done.
- Decisions: centralized FK naming + validation in RelationalNameConventions.ForeignKeyName to avoid drift; preserved existing FK format and empty-column error message.
- Files: src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/RelationalNameConventions.cs, src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/DeriveTableScopesAndKeysStep.cs, src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/DeriveColumnsAndDescriptorEdgesStep.cs, src/dms/backend/EdFi.DataManagementService.Backend.Tests.Unit/RelationalNameConventionsTests.cs, tasks.json
- Notes: dotnet build warning about missing Features/SyntheticTests/DocumentValidation.feature.cs (pre-existing).
- Task: Update DeriveColumnsAndDescriptorEdgesStep maxLength unit tests (reference/design/backend-redesign/epics/01-relational-model/00-base-schema-traversal.md) done.
- Decisions: added focused fixtures for date/time formats, duration omission via StringMaxLengthOmissionPaths, enumeration via enum, and descriptor URI strings (array + reference) to ensure descriptor FKs not scalar strings; kept missing-maxLength error check with canonical path.
- Files: src/dms/backend/EdFi.DataManagementService.Backend.Tests.Unit/DeriveColumnsAndDescriptorEdgesStepTests.cs, tasks.json
- Notes: dotnet build warning about missing Features/SyntheticTests/DocumentValidation.feature.cs (pre-existing).
