- Task: DMS-1033 set-level contract surface + dialect rules (reference/design/backend-redesign/epics/01-relational-model/08-derived-relational-model-set-builder.md)
  - Decisions: new Backend.External project for shared contracts; SqlDialect + SchemaComponentInfo/ResourceKeyEntry/EffectiveSchemaInfo in EdFi.DataManagementService.Backend.External; ISqlDialectRules with deterministic truncate+hash shortening (byte-based for Pgsql, char-based for Mssql); scalar type defaults aligned to data-model.md.
  - Files: src/dms/backend/EdFi.DataManagementService.Backend.External/EdFi.DataManagementService.Backend.External.csproj; src/dms/backend/EdFi.DataManagementService.Backend.External/EffectiveSchemaContracts.cs; src/dms/backend/EdFi.DataManagementService.Backend.External/SqlDialectRules.cs; src/dms/EdFi.DataManagementService.sln; tasks.json.
  - Notes: build warning persists: missing feature for Features/SyntheticTests/DocumentValidation.feature.cs.
- Task: EffectiveSchemaSet contract (reference/design/backend-redesign/epics/01-relational-model/08-derived-relational-model-set-builder.md)
  - Decisions: added EffectiveProjectSchema + EffectiveSchemaSet with ProjectSchema as projectSchema node (JsonObject) to avoid file I/O and enforce ordered project list.
  - Files: src/dms/backend/EdFi.DataManagementService.Backend.External/EffectiveSchemaSetContracts.cs; tasks.json.
  - Notes: build warning persists for missing Features/SyntheticTests/DocumentValidation.feature.
- Task: Move relational model types to Backend.External (reference/design/backend-redesign/epics/01-relational-model/08-derived-relational-model-set-builder.md)
  - Decisions: moved RelationalModelTypes/InputTypes into Backend.External; QualifiedResourceName now lives with relational model contracts; added global using for Backend.External in RelationalModel + tests; RelationalModel now references Backend which references Backend.External for transitive access.
  - Files: src/dms/backend/EdFi.DataManagementService.Backend.External/RelationalModelTypes.cs; src/dms/backend/EdFi.DataManagementService.Backend.External/RelationalModelInputTypes.cs; src/dms/backend/EdFi.DataManagementService.Backend.External/EffectiveSchemaContracts.cs; src/dms/backend/EdFi.DataManagementService.Backend/EdFi.DataManagementService.Backend.csproj; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/EdFi.DataManagementService.Backend.RelationalModel.csproj; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/GlobalUsings.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/GlobalUsings.cs; tasks.json.
  - Notes: build warning persists for missing Features/SyntheticTests/DocumentValidation.feature.cs.
- Task: DerivedRelationalModelSet contract surface (reference/design/backend-redesign/epics/01-relational-model/08-derived-relational-model-set-builder.md)
  - Decisions: added contract types for derived model set (project schema info, concrete/abstract inventories, index/trigger inventories) in Backend.External aligned to compiled-mapping-set.md.
  - Files: src/dms/backend/EdFi.DataManagementService.Backend.External/DerivedRelationalModelSetContracts.cs; tasks.json.
  - Notes: build warning persists for missing Features/SyntheticTests/DocumentValidation.feature.cs.
- Task: DerivedRelationalModelSetBuilder pass orchestration + context (reference/design/backend-redesign/epics/01-relational-model/08-derived-relational-model-set-builder.md)
  - Decisions: added IRelationalModelSetPass with explicit Order; builder sorts passes by (Order, type name) and fails on duplicate ordering keys; context precomputes canonical project/resource order, validates physical-schema collisions, exposes canonical enumerators, and sorts concrete resources in BuildResult for deterministic output.
  - Files: src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/DerivedRelationalModelSetBuilder.cs; tasks.json.
  - Notes: dotnet build + relational-model unit tests passed.
- Task: EffectiveSchemaInfo consistency validation (reference/design/backend-redesign/epics/01-relational-model/08-derived-relational-model-set-builder.md)
  - Decisions: validate ResourceKeyCount, duplicate ResourceKeyId/resource pairs, and missing/extra resource keys in RelationalModelSetBuilderContext before passes; include resourceSchemas + abstractResources + isResourceExtension entries.
  - Files: src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/DerivedRelationalModelSetBuilder.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/EffectiveSchemaInfoValidationTests.cs; tasks.json.
  - Notes: dotnet build + relational-model unit tests passed.
- Task: documentPathsMapping target validation (reference/design/backend-redesign/epics/01-relational-model/08-derived-relational-model-set-builder.md)
  - Decisions: built effective resource index once in builder context; validate documentPathsMapping entries with isReference=true against index and include mapping key/path + source/target in errors.
  - Files: src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/DerivedRelationalModelSetBuilder.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/DocumentPathsMappingValidationTests.cs; tasks.json.
  - Notes: dotnet build + relational-model unit tests passed.
- Task: Cross-project descriptor-path inference + _ext partition (reference/design/backend-redesign/epics/01-relational-model/08-derived-relational-model-set-builder.md)
  - Decisions: introduced DescriptorPathInference helper for multi-project descriptor path propagation; RelationalModelSetBuilderContext partitions base vs _ext descriptor paths and exposes accessors; ExtractInputsStep now honors DescriptorPathSource.Precomputed; added multi-project unit test covering cross-project propagation + _ext partition.
  - Files: src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/DescriptorPathInference.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/ExtractInputsStep.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/RelationalModelBuilderPipeline.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/DerivedRelationalModelSetBuilder.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/DescriptorPathInferenceTests.cs; tasks.json.
  - Notes: dotnet build --no-restore ./src/dms/EdFi.DataManagementService.sln; dotnet test --no-restore ./src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit.csproj.
- Task: Base traversal set-level pass (reference/design/backend-redesign/epics/01-relational-model/08-derived-relational-model-set-builder.md)
  - Decisions: added BaseTraversalRelationalModelSetPass to run per-resource pipeline with precomputed base descriptor paths; skip isResourceExtension resources; context now tracks extension sites per resource for later passes.
  - Files: src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/BaseTraversalRelationalModelSetPass.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/DerivedRelationalModelSetBuilder.cs; tasks.json.
  - Notes: dotnet build --no-restore ./src/dms/EdFi.DataManagementService.sln; dotnet test --no-restore ./src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit.csproj.
- Task: _ext project-key resolution and validation (reference/design/backend-redesign/epics/01-relational-model/08-derived-relational-model-set-builder.md)
  - Decisions: validate extension project keys on registration; resolve by endpoint name then project name (case-insensitive), cache per key; errors include resource + owning scope + extension path + candidate projects for ambiguity.
  - Files: src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/DerivedRelationalModelSetBuilder.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/ExtensionProjectKeyResolutionTests.cs; tasks.json.
  - Notes: dotnet build --no-restore ./src/dms/EdFi.DataManagementService.sln; dotnet test --no-restore ./src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit.csproj.
