- Task: Docs (DMS-930 story 01-reference-and-constraints.md)
  Decisions: Added "Handoff from DMS-930" section documenting provisional naming helpers/passes, reference-only nameOverrides, and collision detection without rewriting; listed DMS-931 responsibilities for full naming/overrides/shortening.
  Files: reference/design/backend-redesign/epics/01-relational-model/02-naming-and-overrides.md; tasks.json; progress.txt
  Notes: dotnet build --no-restore ./src/dms/EdFi.DataManagementService.sln succeeded with pre-existing SyntheticTests feature warning.
- Task: Split constraint derivation pass (story 01-reference-and-constraints.md)
  Decisions: Split into RootIdentityConstraintRelationalModelSetPass, ReferenceConstraintRelationalModelSetPass, ArrayUniquenessConstraintRelationalModelSetPass; added ConstraintDerivationHelpers for shared constraint helpers + ResourceMutation; introduced ReferenceConstraintContext to cut ApplyReferenceConstraintsForResource params.
  Files: src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/ConstraintDerivationHelpers.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/RootIdentityConstraintRelationalModelSetPass.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/ReferenceConstraintRelationalModelSetPass.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/ArrayUniquenessConstraintRelationalModelSetPass.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/RelationalModelSetPasses.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/ConstraintDerivationRelationalModelSetPass.cs (deleted); src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/ConstraintDerivationRelationalModelSetPassTests.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/RelationalModelSetPassesTests.cs; tasks.json; progress.txt
  Notes: dotnet test --no-restore ./src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit.csproj passed; dotnet build --no-restore ./src/dms/EdFi.DataManagementService.sln succeeded with existing SyntheticTests feature warning.
- Task: Share cached ExtractInputsStep output (DMS-930 story 01-reference-and-constraints.md)
  Decisions: Added shared RelationalModelSetBuilderContext cache for per-resource builder contexts with precomputed descriptor paths; passes now pull builder contexts from set-level cache; removed redundant BuildResourceContext/GetOrCreateBuilderContext helpers.
  Files: src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/RelationalModelSetBuilderContext.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/RootIdentityConstraintRelationalModelSetPass.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/ReferenceBindingRelationalModelSetPass.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/ReferenceConstraintRelationalModelSetPass.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/ArrayUniquenessConstraintRelationalModelSetPass.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/RelationalModelSetSchemaHelpers.cs; tasks.json; progress.txt
  Notes: dotnet test --no-restore ./src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit.csproj passed; dotnet build --no-restore ./src/dms/EdFi.DataManagementService.sln succeeded with existing SyntheticTests feature warning.
- Task: Array uniqueness failure aggregation (DMS-930 story 01-reference-and-constraints.md)
  Decisions: Collect all candidate failures and combine into a single InvalidOperationException with AggregateException inner; preserve original-scope failure unless aligned scope succeeds; added custom-pass fixture to surface both candidate messages.
  Files: src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/ArrayUniquenessConstraintRelationalModelSetPass.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/ConstraintDerivationRelationalModelSetPassTests.cs; tasks.json; progress.txt
  Notes: dotnet test --no-restore ./src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit.csproj passed; dotnet build --no-restore ./src/dms/EdFi.DataManagementService.sln succeeded with existing SyntheticTests warning.
- Task: Deterministic SourceJsonPath column lookup (DMS-930 story 01-reference-and-constraints.md)
  Decisions: Added BuildColumnNameLookupBySourceJsonPath ordering by column name to avoid nondeterminism; root and reference identity derivation now uses helper; added test for duplicate SourceJsonPath selecting lexicographically first column.
  Files: src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/ConstraintDerivationHelpers.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/RootIdentityConstraintRelationalModelSetPass.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/ReferenceConstraintRelationalModelSetPass.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/ConstraintDerivationRelationalModelSetPassTests.cs; tasks.json; progress.txt
  Notes: dotnet test --no-restore ./src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit.csproj passed; dotnet build --no-restore ./src/dms/EdFi.DataManagementService.sln succeeded with existing SyntheticTests feature warning.
- Task: Shared base-resource resolution helper (DMS-930 story 01-reference-and-constraints.md)
  Decisions: Added ResolveBaseResourceForExtension helper in RelationalModelSetSchemaHelpers and replaced per-pass extension/base lookup error logic (reference binding/constraints/array uniqueness/extension table) to keep diagnostics consistent.
  Files: src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/RelationalModelSetSchemaHelpers.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/ReferenceBindingRelationalModelSetPass.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/ReferenceConstraintRelationalModelSetPass.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/ArrayUniquenessConstraintRelationalModelSetPass.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/ExtensionTableDerivationRelationalModelSetPass.cs; tasks.json; progress.txt
  Notes: dotnet test --no-restore ./src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit.csproj passed; dotnet build --no-restore ./src/dms/EdFi.DataManagementService.sln succeeded with existing SyntheticTests warning.
