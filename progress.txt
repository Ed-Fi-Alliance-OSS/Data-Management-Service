- Task: Contracts (DMS-930 story 01-reference-and-constraints.md)
  Decisions: Added TableConstraint.AllOrNoneNullability (Name/FkColumn/DependentColumns); constraint ordering Unique->FK->Check for deterministic output; manifest emits AllOrNoneNullability with fk/dependent columns.
  Files: src/dms/backend/EdFi.DataManagementService.Backend.External/RelationalModelTypes.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/CanonicalizeOrderingStep.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/RelationalModelManifestEmitter.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/RelationalModelSetBuilderContext.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/CanonicalizeOrderingStepTests.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/RelationalModelManifestEmitterTests.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/RelationalModelManifestOrderingTests.cs; tasks.json
  Notes: dotnet build warning about missing SyntheticTests feature files in EdFi.DataManagementService.Tests.E2E (pre-existing).
- Task: Schema Inputs (DMS-930 story 01-reference-and-constraints.md)
  Decisions: Parse/validate documentPathsMapping refs (require referenceJsonPaths; isPartOfIdentity optional but enforced when identityJsonPaths include path); derive reference object prefixes; parse arrayUniquenessConstraints with basePath/nestedConstraints; validate identity/uniqueness paths vs JSON schema; validate referenceJsonPaths identityJsonPath against target resource identityJsonPaths; allowIdentityUpdates required; reference nameOverrides only applied for reference object paths; fixed sample fixture typo $.portfolioYears[*].portfolioYear.
  Files: src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/SchemaInputModels.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/RelationalModelBuilderPipeline.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/ExtractInputsStep.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/DescriptorPathInference.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/ValidateJsonSchemaStep.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/RelationalModelSetBuilderContext.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/RelationalModelSetValidation.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/SchemaInputValidationTests.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/ExtractInputsStepTests.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/Fixtures/relational-model-fixture.json; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/Fixtures/set-builder/hand-authored-core-api-schema.json; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/Fixtures/set-builder/hand-authored-extension-api-schema.json; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/Fixtures/authoritative/sample/inputs/sample-api-schema-authoritative.json; tasks.json
  Notes: dotnet test RelationalModel.Tests.Unit passed; dotnet build warning about missing SyntheticTests feature files (pre-existing).
- Task: Abstract Identity (DMS-933 story 04-abstract-union-views.md)
  Decisions: Added AbstractIdentityTableDerivationRelationalModelSetPass; derive identity columns from abstract identityJsonPaths (type inference via concrete member columns/descriptor paths/schema) and append Discriminator (string, 256); added UNIQUE on (DocumentId + identity columns) and DocumentId FK to dms.Document ON DELETE CASCADE with OnUpdate NoAction; fail-fast on member type mismatch.
  Files: src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/AbstractIdentityTableDerivationRelationalModelSetPass.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/AbstractIdentityTableDerivationTests.cs; tasks.json
  Notes: dotnet test RelationalModel.Tests.Unit passed; dotnet build warning about missing SyntheticTests feature files in EdFi.DataManagementService.Tests.E2E (pre-existing).
- Task: Column Derivation (DMS-930 story 01-reference-and-constraints.md)
  Decisions: Suppress reference-identity paths from scalar/descriptor column derivation using documentPathsMapping; mark suppressed descriptor paths as used to avoid descriptor-path enforcement failures; skip reference link internals; updated ds-5.2 per-resource authoritative manifest.
  Files: src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/DeriveColumnsAndBindDescriptorEdgesStep.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/DeriveColumnsAndBindDescriptorEdgesStepTests.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/Fixtures/authoritative/ds-5.2/expected/dms-929-relational-model.manifest.json; tasks.json
  Notes: dotnet test RelationalModel.Tests.Unit passed (also ran with UPDATE_GOLDENS=1).
- Task: Extensions (DMS-932 story 01-reference-and-constraints.md)
  Decisions: Added ExtensionTableDerivationRelationalModelSetPass (order 10) to derive _ext tables from resource-extension schemas; align keys using base root base name + collection base names (table scopes trimmed to last array) and treat arrays whose items contain _ext as structural; extension tables ordered by array depth + scope; descriptor FK columns/edges emitted for extension paths.
  Files: src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/ExtensionTableDerivationRelationalModelSetPass.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/ExtensionTableDerivationTests.cs; tasks.json
  Notes: dotnet test RelationalModel.Tests.Unit passed; dotnet build warning about missing SyntheticTests feature files in EdFi.DataManagementService.Tests.E2E (pre-existing).
- Task: Reference Binding (DMS-930 story 01-reference-and-constraints.md)
  Decisions: Added ReferenceBindingRelationalModelSetPass to add reference DocumentId + identity columns, descriptor identity columns with Descriptor FK/edge, longest-prefix table scope resolution for nested/_ext paths, reference base name from mapping key or override; clone projectSchema when building ApiSchema root; added tests for nested scope, identity component, nested identity naming, descriptor identity columns, extension binding.
  Files: src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/ReferenceBindingRelationalModelSetPass.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/ReferenceBindingRelationalModelSetPassTests.cs; tasks.json
  Notes: dotnet test RelationalModel.Tests.Unit passed; dotnet build warning about missing SyntheticTests feature files (pre-existing).
- Task: Constraints (root natural-key UNIQUE + descriptor Uri/Discriminator) (DMS-930 story 01-reference-and-constraints.md)
  Decisions: Added ConstraintDerivationRelationalModelSetPass (order 40) to add root UNIQUE from identityJsonPaths (reference identities map to ..._DocumentId with de-dupe) and add Uri/Discriminator columns + UNIQUE for shared descriptor table; canonicalize root table columns/constraints after mutation; fail fast on array identity/unmapped paths.
  Files: src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/ConstraintDerivationRelationalModelSetPass.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/ConstraintDerivationRelationalModelSetPassTests.cs; tasks.json
  Notes: dotnet test RelationalModel.Tests.Unit passed; dotnet build warning about missing SyntheticTests feature files (pre-existing).
- Task: Set-Level Integration (DMS-930 story 01-reference-and-constraints.md)
  Decisions: Default pass list now includes base traversal + extension + abstract identity + reference binding + constraint derivation; updated pass ordering test; extension pass clones projectSchema root, ignores scalar/descriptor arrays outside extension scope while marking descriptor paths used; allow duplicate reference identity bindings when same reference object path; hand-authored fixtures now include isSubclass=false.
  Files: src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/RelationalModelSetPasses.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/RelationalModelSetPassesTests.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/ExtensionTableDerivationRelationalModelSetPass.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/ConstraintDerivationRelationalModelSetPass.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/Fixtures/set-builder/hand-authored-core-api-schema.json; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/Fixtures/set-builder/hand-authored-extension-api-schema.json; tasks.json
  Notes: dotnet test RelationalModel.Tests.Unit passed; dotnet build warning about missing SyntheticTests feature files (pre-existing).
- Task: Constraints (per-reference all-or-none + composite FKs) (DMS-930 story 01-reference-and-constraints.md)
  Decisions: Added per-reference AllOrNoneNullability + composite FK constraints ordered by target identityJsonPaths; target-side UNIQUE now DocumentId + reference identity columns (subset when mappings incomplete) for concrete targets; abstract targets never cascade and are skipped when mapping lacks full identity; deduped duplicate reference path/column mappings deterministically and tolerated duplicate tables in mutation map to keep fixtures working.
  Files: src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/ConstraintDerivationRelationalModelSetPass.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/ConstraintDerivationRelationalModelSetPassTests.cs; tasks.json
  Notes: dotnet test RelationalModel.Tests.Unit passed; dotnet build warning about missing SyntheticTests feature files in EdFi.DataManagementService.Tests.E2E (pre-existing).
- Task: Constraints (arrayUniquenessConstraints) (DMS-930 story 01-reference-and-constraints.md)
  Decisions: Fix ResourceMutation to track tables by (DbTableName + JsonScope) to preserve duplicate table names across scopes; resolve reference constraint target tables by reference object scope to avoid collapsing tables; array uniqueness mapping now succeeds for duplicate-named tables.
  Files: src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/ConstraintDerivationRelationalModelSetPass.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/ConstraintDerivationRelationalModelSetPassTests.cs; tasks.json
  Notes: dotnet test RelationalModel.Tests.Unit passed; dotnet build warning about missing SyntheticTests feature files in EdFi.DataManagementService.Tests.E2E (pre-existing).
- Task: Manifests (DMS-930 story 01-reference-and-constraints.md)
  Decisions: Expanded derived-set manifest to include abstract identity tables + curated resource details (AssessmentAdministration, StudentSchoolAssociation) with tables/constraints and document reference bindings; added extension site capture pass for manifest.
  Files: src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/DerivedRelationalModelSetAuthoritativeGoldenTests.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/Fixtures/authoritative/sample/expected/dms-1033-derived-relational-model-set.json; tasks.json
  Notes: UPDATE_GOLDENS=1 dotnet test EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit passed.
- Task: Manifests (DMS-930 story 01-reference-and-constraints.md)
  Decisions: Verified authoritative derived-set manifest already includes abstract identity tables + resource details + document reference bindings; marked task complete after tests.
  Files: tasks.json; progress.txt
  Notes: dotnet test EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit passed.
- Task: Goldens (DMS-930 story 01-reference-and-constraints.md)
  Decisions: Ran UPDATE_GOLDENS and confirmed no diffs; goldens already aligned to latest reference/constraint outputs.
  Files: tasks.json; progress.txt
  Notes: dotnet test EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit passed (incl UPDATE_GOLDENS=1).
- Task: Build (DMS-930 story 01-reference-and-constraints.md)
  Decisions: dotnet build ran; warning about missing SyntheticTests feature files persists (pre-existing).
  Files: tasks.json; progress.txt
  Notes: dotnet build --no-restore ./src/dms/EdFi.DataManagementService.sln succeeded (1 warning).
- Task: Constraints (abstract reference ON UPDATE CASCADE) (DMS-930 story 01-reference-and-constraints.md)
  Decisions: Abstract-target composite FKs now use OnUpdate Cascade; updated abstract reference unit test expectation; refreshed sample authoritative derived-set manifest entry for the abstract FK.
  Files: src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/ConstraintDerivationRelationalModelSetPass.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/ConstraintDerivationRelationalModelSetPassTests.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/Fixtures/authoritative/sample/expected/dms-1033-derived-relational-model-set.json; tasks.json; progress.txt
  Notes: dotnet test EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit passed; dotnet build --no-restore ./src/dms/EdFi.DataManagementService.sln succeeded with pre-existing SyntheticTests feature warning.
- Task: Constraints (missing concrete reference identity coverage) (DMS-930 story 01-reference-and-constraints.md)
  Decisions: Fail fast when concrete reference mappings omit target identityJsonPaths; added fixture mapping for Sample:Section -> School schoolId; added unit test for missing identity path error.
  Files: src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/ConstraintDerivationRelationalModelSetPass.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/ConstraintDerivationRelationalModelSetPassTests.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/Fixtures/set-builder/hand-authored-extension-api-schema.json; tasks.json; progress.txt
  Notes: dotnet test EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit passed; dotnet build --no-restore ./src/dms/EdFi.DataManagementService.sln succeeded with pre-existing SyntheticTests feature warning.
- Task: Descriptor Paths (DMS-930 story 01-reference-and-constraints.md)
  Decisions: Removed descriptor-identity fallback in reference binding; now fail fast when descriptor identity path missing from descriptor-path map; added test for missing descriptor path mapping.
  Files: src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/ReferenceBindingRelationalModelSetPass.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/ReferenceBindingRelationalModelSetPassTests.cs; tasks.json; progress.txt
  Notes: dotnet test EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit passed.
- Task: Constraints (abstract reference missing identity fail-fast) (DMS-930 story 01-reference-and-constraints.md)
  Decisions: Missing identity paths now error for abstract targets too; added abstract reference fixture with extra identity part to assert fail-fast message.
  Files: src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/ConstraintDerivationRelationalModelSetPass.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/ConstraintDerivationRelationalModelSetPassTests.cs; tasks.json; progress.txt
  Notes: dotnet test EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit passed; dotnet build --no-restore ./src/dms/EdFi.DataManagementService.sln succeeded with pre-existing SyntheticTests feature warning.
- Task: Schema Inputs (isPartOfIdentity bidirectional validation) (DMS-930 story 01-reference-and-constraints.md)
  Decisions: ResolveIsPartOfIdentity now throws when isPartOfIdentity=true but identityJsonPaths lacks mapping paths; added scalar/descriptor/reference validation tests; normalized ds-5.2 + sample fixtures to clear isPartOfIdentity where identityJsonPaths omit mapping paths.
  Files: src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/ExtractInputsStep.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/SchemaInputValidationTests.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/Fixtures/authoritative/ds-5.2/inputs/ds-5.2-api-schema-authoritative.json; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/Fixtures/authoritative/sample/inputs/sample-api-schema-authoritative.json; tasks.json; progress.txt
  Notes: dotnet test --no-restore ./src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit.csproj passed; dotnet build --no-restore ./src/dms/EdFi.DataManagementService.sln succeeded with pre-existing SyntheticTests feature warning.
- Task: Performance (DMS-930 story 01-reference-and-constraints.md)
  Decisions: Precomputed resource->index map for reference binding updates; removed FindIndex scan while keeping extension behavior.
  Files: src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/ReferenceBindingRelationalModelSetPass.cs; tasks.json; progress.txt
  Notes: dotnet test RelationalModel.Tests.Unit passed; dotnet build --no-restore ./src/dms/EdFi.DataManagementService.sln succeeded with pre-existing SyntheticTests feature warning.
- Task: Performance (DMS-930 story 01-reference-and-constraints.md)
  Decisions: Verified reference-binding index map change already in place; marked task complete in tasks.json after re-running tests/build.
  Files: tasks.json; progress.txt
  Notes: dotnet test RelationalModel.Tests.Unit passed; dotnet build --no-restore ./src/dms/EdFi.DataManagementService.sln succeeded with pre-existing SyntheticTests feature warning.
- Task: Refactor (DMS-930 story 01-reference-and-constraints.md)
  Decisions: Centralized IsPrefixOf JSONPath prefix logic in RelationalModelSetSchemaHelpers; removed per-pass copies from reference binding and constraint derivation.
  Files: src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/RelationalModelSetSchemaHelpers.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/ReferenceBindingRelationalModelSetPass.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/ConstraintDerivationRelationalModelSetPass.cs; tasks.json; progress.txt
  Notes: dotnet test --no-restore ./src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit.csproj passed; dotnet build --no-restore ./src/dms/EdFi.DataManagementService.sln succeeded with pre-existing SyntheticTests feature warning.
- Task: Correctness (DMS-930 story 01-reference-and-constraints.md)
  Decisions: Fail-fast when identity path maps to nullable scalar/descriptor column during column derivation; require isRequired=true for identity references in ExtractInputs; updated test schemas to mark identity fields required; added tests for nullable identity + optional identity reference.
  Files: src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/DeriveColumnsAndBindDescriptorEdgesStep.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/ExtractInputsStep.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/DeriveColumnsAndBindDescriptorEdgesStepTests.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/SchemaInputValidationTests.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/RelationalModelManifestEmitterTests.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/ConstraintDerivationRelationalModelSetPassTests.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/ReferenceBindingRelationalModelSetPassTests.cs; tasks.json; progress.txt
  Notes: dotnet test RelationalModel.Tests.Unit passed; dotnet build --no-restore ./src/dms/EdFi.DataManagementService.sln succeeded with pre-existing SyntheticTests feature warning.
- Task: Robustness (remove IRelationalModelSetPass.Order) (DMS-930 story 01-reference-and-constraints.md)
  Decisions: Pass ordering now uses list order only; removed Order property/duplicate-order validation; updated ordering test to assert supplied order.
  Files: src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/IRelationalModelSetPass.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/DerivedRelationalModelSetBuilder.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/BaseTraversalAndDescriptorBindingRelationalModelSetPass.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/ExtensionTableDerivationRelationalModelSetPass.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/AbstractIdentityTableDerivationRelationalModelSetPass.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/ReferenceBindingRelationalModelSetPass.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/ConstraintDerivationRelationalModelSetPass.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/DerivedRelationalModelSetBuilderPassOrderingTests.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/DerivedRelationalModelSetBuilderOrderingTests.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/DerivedRelationalModelSetBuilderInvariantTests.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/DerivedRelationalModelSetDeterminismTests.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/DerivedRelationalModelSetAuthoritativeGoldenTests.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/IdentifierShorteningCollisionTests.cs; tasks.json; progress.txt
  Notes: dotnet test --no-restore ./src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit.csproj passed; dotnet build --no-restore ./src/dms/EdFi.DataManagementService.sln succeeded with pre-existing SyntheticTests feature warning.
- Task: Robustness (remove array uniqueness fallback levels 3-4) (DMS-930 story 01-reference-and-constraints.md)
  Decisions: Removed brute-force array uniqueness fallback levels; fail fast after scope + extension-aligned attempts; documented _ext cross-boundary scope alignment example.
  Files: src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/ConstraintDerivationRelationalModelSetPass.cs; tasks.json; progress.txt
  Notes: dotnet test EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit passed; dotnet build --no-restore ./src/dms/EdFi.DataManagementService.sln succeeded with pre-existing SyntheticTests feature warning.
- Task: Refactor (shared table column accumulator) (DMS-930 story 01-reference-and-constraints.md)
  Decisions: Added TableColumnAccumulator shared helper for column/constraint accumulation + collision detection; ReferenceBinding uses it directly; ExtensionTableBuilder delegates to it.
  Files: src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/TableColumnAccumulator.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/ReferenceBindingRelationalModelSetPass.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/ExtensionTableDerivationRelationalModelSetPass.cs; tasks.json; progress.txt
  Notes: dotnet test RelationalModel.Tests.Unit passed; dotnet build --no-restore ./src/dms/EdFi.DataManagementService.sln succeeded with pre-existing SyntheticTests feature warning.
- Task: Robustness (duplicate reference identity bindings) (DMS-930 story 01-reference-and-constraints.md)
  Decisions: Fail-fast on duplicate identityJsonPath in documentPathsMapping; align reference mapping/bindings by index so shared referenceJsonPaths map to distinct identity columns (no winner selection); added alignment mismatch guard; added tests for duplicate identityJsonPath failure and shared reference path FK columns.
  Files: src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/ExtractInputsStep.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/ConstraintDerivationRelationalModelSetPass.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/SchemaInputValidationTests.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/ConstraintDerivationRelationalModelSetPassTests.cs; tasks.json; progress.txt
  Notes: dotnet test --no-restore ./src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit.csproj passed; dotnet build --no-restore ./src/dms/EdFi.DataManagementService.sln succeeded with pre-existing SyntheticTests feature warning.
- Task: Robustness (abstract hasCompleteIdentity dead branch) (DMS-930 story 01-reference-and-constraints.md)
  Decisions: Removed abstract-only hasCompleteIdentity continue; BuildReferenceIdentityColumns already throws on missing identity (existing abstract-missing-identity test proves path unreachable).
  Files: src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/ConstraintDerivationRelationalModelSetPass.cs; tasks.json; progress.txt
  Notes: dotnet test --no-restore ./src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit.csproj passed.
- Task: Maintainability (DMS-930 story 01-reference-and-constraints.md)
  Decisions: Extracted RelationalScalarTypeResolver + RelationalModelOrdering helpers; DeriveColumns/ReferenceBinding now use shared scalar resolver; CanonicalizeOrderingStep/ConstraintDerivation use shared table ordering.
  Files: src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/RelationalScalarTypeResolver.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/RelationalModelOrdering.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/DeriveColumnsAndBindDescriptorEdgesStep.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/ReferenceBindingRelationalModelSetPass.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/CanonicalizeOrderingStep.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/ConstraintDerivationRelationalModelSetPass.cs; tasks.json; progress.txt
  Notes: dotnet test --no-restore ./src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit.csproj passed; dotnet build --no-restore ./src/dms/EdFi.DataManagementService.sln succeeded with pre-existing SyntheticTests feature warning.
- Task: Robustness (standardize string comparisons) (DMS-930 story 01-reference-and-constraints.md)
  Decisions: Replaced OrdinalIgnoreCase comparisons with Ordinal for extension project key matching and _ext scope handling; subclassType "association" now requires exact casing; updated extension key tests to use exact endpoint casing.
  Files: src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/ExtensionTableDerivationRelationalModelSetPass.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/AbstractIdentityTableDerivationRelationalModelSetPass.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel/RelationalModelSetBuilderContext.cs; src/dms/backend/EdFi.DataManagementService.Backend.RelationalModel.Tests.Unit/ExtensionProjectKeyResolutionTests.cs; tasks.json; progress.txt
  Notes: dotnet test RelationalModel.Tests.Unit passed; dotnet build --no-restore ./src/dms/EdFi.DataManagementService.sln succeeded with pre-existing SyntheticTests feature warning.
